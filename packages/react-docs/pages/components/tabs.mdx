# Tabs

Tabs is used to group and display a set of related elements.

## Import

```js
import {
  Tab,
  Tabs,
  TabList,
  TabPanel,
  TabPanels,
} from '@tonic-ui/react';
```

## Usage

### Basic tabs

Here is a basic example of tabs.

```jsx
<Tabs>
  <TabList>
    <Tab>TAB 1</Tab>
    <Tab>TAB 2</Tab>
    <Tab>TAB 3</Tab>
  </TabList>
  <TabPanels px="3x" py="2x">
    <TabPanel>
      Tab Panel 1
    </TabPanel>
    <TabPanel>
      Tab Panel 2
    </TabPanel>
    <TabPanel>
      Tab Panel 3
    </TabPanel>
  </TabPanels>
</Tabs>
```

> `TabList` and `TabPanels` are used to group the tabs and tab panels. If you don't need the tabs to be grouped, you can use `Tab` and `TabPanel` directly.<br/><br/>
> ```jsx disabled
<Tabs>
  <Tab>TAB 1</Tab>
  <Tab>TAB 2</Tab>
  <Tab>TAB 3</Tab>
  <TabPanel>Tab Panel 1</TabPanel>
  <TabPanel>Tab Panel 2</TabPanel>
  <TabPanel>Tab Panel 3</TabPanel>
</Tabs>
```

### Controlled and uncontrolled tabs

The `index` prop is used to control which tab is selected. The `onChange` callback returns the selected tab index whenever the user changes the tab. If you intend to control the tabs programmatically, use the `onChange` callback to update the `index` prop.

```jsx
function Example() {
  const [index, setIndex] = React.useState('tab1');

  return (
    <Tabs
      index={index}
      onChange={index => setIndex(index)}
    >
      <TabList>
        <Tab index="tab1">TAB 1</Tab>
        <Tab index="tab2">TAB 2</Tab>
        <Tab index="tab3">TAB 3</Tab>
      </TabList>
      <TabPanels px="3x" py="2x">
        <TabPanel index="tab1">
          Tab Panel 1
        </TabPanel>
        <TabPanel index="tab2">
          Tab Panel 2
        </TabPanel>
        <TabPanel index="tab3">
          Tab Panel 3
        </TabPanel>
      </TabPanels>
    </Tabs>
  );
}
```

For uncontrolled tabs, you can use the `defaultIndex` prop to set the initial selected tab.

```jsx
<Tabs defaultIndex={0}>
  <TabList>
    <Tab>TAB 1</Tab>
    <Tab>TAB 2</Tab>
    <Tab>TAB 3</Tab>
  </TabList>
  <TabPanels px="3x" py="2x">
    <TabPanel>
      Tab Panel 1
    </TabPanel>
    <TabPanel>
      Tab Panel 2
    </TabPanel>
    <TabPanel>
      Tab Panel 3
    </TabPanel>
  </TabPanels>
</Tabs>
```

### Variants

Tabs comes in 3 variants: `default`, `filled`, and `unstyled`. Pass the `variant` prop and set it to either of these values.

#### `default`

```jsx
<Tabs variant="default">
  <TabList>
    <Tab>TAB 1</Tab>
    <Tab>TAB 2</Tab>
    <Tab>TAB 3</Tab>
  </TabList>
</Tabs>
```

#### `filled`

```jsx
<Tabs variant="filled">
  <TabList>
    <Tab>TAB 1</Tab>
    <Tab>TAB 2</Tab>
    <Tab>TAB 3</Tab>
  </TabList>
</Tabs>
```

#### `unstyled`

```jsx
<Tabs variant="unstyled">
  <TabList columnGap="3x">
    <Tab>TAB 1</Tab>
    <Tab>TAB 2</Tab>
    <Tab>TAB 3</Tab>
  </TabList>
</Tabs>
```

### Decorate tabs with a bottom border

To decorate tabs with a bottom border, you can pass `__after` prop to `TabList` to render a bottom border.

```jsx noInline
const MyTabGroup = (props) => {
  const [colorMode] = useColorMode();
  const [colorStyle] = useColorStyle({ colorMode });
  return (
    <TabList
      position="relative"
      __after={{
        content: '""',
        borderBottom: 1,
        borderBottomColor: colorStyle.divider,
        position: 'absolute',
        bottom: 0,
        width: '100%',
        ...props.__after,
      }}
      {...props}
    />
  );
};

function Example() {
  const [colorMode] = useColorMode();
  const [colorStyle] = useColorStyle({ colorMode });
  return (
    <Flex flexDirection="column" rowGap="4x">
      <Box>
        <Text fontSize="lg" lineHeight="lg" mb="2x">
          Left-aligned
        </Text>
        <Box backgroundColor={colorStyle.background.secondary} p="4x">
          <Tabs>
            <MyTabGroup justifyContent="flex-start">
              <Tab>TAB 1</Tab>
              <Tab>TAB 2</Tab>
              <Tab>TAB 3</Tab>
            </MyTabGroup>
          </Tabs>
        </Box>
      </Box>
      <Box>
        <Text fontSize="lg" lineHeight="lg" mb="2x">
          Centered
        </Text>
        <Box backgroundColor={colorStyle.background.secondary} p="4x">
          <Tabs>
            <MyTabGroup justifyContent="center">
              <Tab>TAB 1</Tab>
              <Tab>TAB 2</Tab>
              <Tab>TAB 3</Tab>
            </MyTabGroup>
          </Tabs>
        </Box>
      </Box>
      <Box>
        <Text fontSize="lg" lineHeight="lg" mb="2x">
          Right-aligned
        </Text>
        <Box backgroundColor={colorStyle.background.secondary} p="4x">
          <Tabs>
            <MyTabGroup justifyContent="flex-end">
              <Tab>TAB 1</Tab>
              <Tab>TAB 2</Tab>
              <Tab>TAB 3</Tab>
            </MyTabGroup>
          </Tabs>
        </Box>
      </Box>
      <Box>
        <Text fontSize="lg" lineHeight="lg" mb="2x">
          Full width
        </Text>
        <Box backgroundColor={colorStyle.background.secondary} p="4x">
          <Tabs>
            <MyTabGroup>
              <Tab width="100%">TAB 1</Tab>
              <Tab width="100%">TAB 2</Tab>
              <Tab width="100%">TAB 3</Tab>
            </MyTabGroup>
          </Tabs>
        </Box>
      </Box>
      <Box>
        <Text fontSize="lg" lineHeight="lg" mb="2x">
          Auto-sizing
        </Text>
        <Box backgroundColor={colorStyle.background.secondary} p="4x">
          <Tabs>
            <MyTabGroup display="inline-flex">
              <Tab>TAB 1</Tab>
              <Tab>TAB 2</Tab>
              <Tab>TAB 3</Tab>
            </MyTabGroup>
          </Tabs>
        </Box>
      </Box>
    </Flex>
  );
}

render(<Example />);
```

### Access the state of tabs

Sometimes you need to access the state of tabs. For example, you may want to lazily load the content of a tab when that tab is selected.

`Tabs`, `Tab`, and `TabPanel` components expose internal state using **Function as Children (FaCC)**. This is not a recommended approach, but it is useful for this use case.

```jsx
<Tabs defaultIndex={1}>
  {({ index: selectedIndex }) => (
    <>
      <Box mb="2x">
        TAB {selectedIndex} is selected
      </Box>
      <TabList>
        {[1, 2, 3].map(tabIndex => (
          <Tab key={tabIndex} index={tabIndex}>
            {({ getTabProps, disabled, index, variant }) => {
              return (
                <ButtonBase {...getTabProps()}>
                  TAB {index}
                </ButtonBase>
              );
            }}
          </Tab>
        ))}
      </TabList>
      <TabPanels px="3x" py="2x">
        {[1, 2, 3].map(tabPanelIndex => (
          <TabPanel key={tabPanelIndex} index={tabPanelIndex}>
            {({ getTabPanelProps, index, variant }) => {
              return (
                <Box {...getTabPanelProps()}>
                  Tab Panel {index}
                </Box>
              );
            }}
          </TabPanel>
        ))}
      </TabPanels>
    </>
  )}
</Tabs>
```

### Customization

Tabs also come with an `unstyled` variant. It's useful for doing customizations.

```jsx noInline
const CustomTabList = (props) => {
  const [colorMode] = useColorMode();
  const [colorStyle] = useColorStyle({ colorMode });
  const styleProps = {
    backgroundColor: colorStyle.background.primary,
    pt: '1x',
    pl: '1x',
    position: 'relative',
    __after: {
      content: '""',
      borderBottom: 1,
      borderBottomColor: colorStyle.divider,
      position: 'absolute',
      bottom: 0,
      width: '100%',
      ...props.__after,
    },
  };

  return (
    <TabList
      {...styleProps}
      {...props}
    />
  );
};

const CustomTab = (props) => {
  const [colorMode] = useColorMode();
  const [colorStyle] = useColorStyle({ colorMode });
  const { colors } = useTheme();

  const styleProps = {
    backgroundColor: colorStyle.background.tertiary,
    border: 1,
    borderColor: colorStyle.divider,
    color: colorStyle.color.secondary,
    px: '4x',
    py: '3x',
    position: 'relative',
    transition: 'all 0.2s',
    zIndex: 1,
    _disabled: {
      color: colorStyle.color.disabled,
      cursor: 'not-allowed',
    },
    _hover: {
      color: colorStyle.color.primary,
    },
    _notLastOfType: {
      borderRight: 'none',
    },
    _selected: {
      borderBottomColor: colorStyle.background.primary,
      background: colorStyle.background.primary,
      color: colorStyle.color.primary,
      '::before': {
        content: '""',
        position: 'absolute',
        top: -1,
        left: -1,
        right: 0,
        height: 3,
        backgroundColor: '#2cc185',
      },
    },
  };

  return (
    <Tab
      variant="unstyled"
      {...styleProps}
      {...props}
    />
  );
};

function Example() {
  const [colorMode] = useColorMode();
  const [colorStyle] = useColorStyle({ colorMode });

  return (
    <Tabs>
      <CustomTabList>
        <CustomTab>
          <FontAwesomeIcon icon="fa-solid fa-home" />
          <Space width="2x" />
          HOME
        </CustomTab>
        <CustomTab>
          <FontAwesomeIcon icon="fa-solid fa-boxes" />
          <Space width="2x" />
          INVENTORY
        </CustomTab>
        <CustomTab>
          <FontAwesomeIcon icon="fa-solid fa-cogs" />
          <Space width="2x" />
          SETTINGS
        </CustomTab>
      </CustomTabList>
      <TabPanels px="4x" py="3x">
        <TabPanel>
          <Text color={colorStyle.color.secondary} fontSize="4rem" lineHeight="1">
            1
          </Text>
        </TabPanel>
        <TabPanel>
          <Text color={colorStyle.color.secondary} fontSize="4rem" lineHeight="1">
            2
          </Text>
        </TabPanel>
        <TabPanel>
          <Text color={colorStyle.color.secondary} fontSize="4rem" lineHeight="1">
            3
          </Text>
        </TabPanel>
      </TabPanels>
    </Tabs>
  );
}

render(<Example />);
```

## Props

### Tab

| Name | Type | Default | Description |
| :--- | :--- | :------ | :---------- |
| children | ReactNode \| ({ getTabProps, disabled, index, variant }) => ReactNode | | A function child can be used intead of a React element. This function is called with the following props:<br />• The `getTabProps` function returns the props for the tab.<br />• The `disabled` prop indicates whether the tab is disabled.<br />• The `index` prop is the index of the tab.<br />• The `variant` prop is the variant of the tab. |
| disabled | boolean | | Whether the tab is disabled. |
| index | number \| string | | The index of the tab. An index number starting from 0 will be provided if not specified. |
| onClick | (event) => void | | A callback for when the tab is clicked. |
| variant | string | | The variant of the tab. |

### Tabs

| Name | Type | Default | Description |
| :--- | :--- | :------ | :---------- |
| children | ReactNode \| (context) => ReactNode | | A function child can be used intead of a React element. This function is called with the context object. |
| defaultIndex | number \| string | 0 | The default index of the tab to be selected in uncontrolled mode. |
| disabled | boolean | | Whether the tabs should be disabled. |
| index | number \| string | | The index of the tab to be selected in controlled mode. |
| onChange | (index: number\|string) => void | | A callback function that is called when the index changes. |
| variant | string | 'default' | The variant of the tabs. One of: 'default', 'filled', 'unstyled' |

### TabList

| Name | Type | Default | Description |
| :--- | :--- | :------ | :---------- |
| aria-label | string | | A label for the tab list. |
| children | ReactNode | | |

### TabPanel

| Name | Type | Default | Description |
| :--- | :--- | :------ | :---------- |
| children | ReactNode \| ({ getTabPanelProps, index, variant }) => ReactNode | | A function child can be used intead of a React element. This function is called with the following props:<br />• The `getTabPanelProps` function returns the props for the tab panel.<br />• The `index` prop is the index of the tab panel.<br />• The `variant` prop is the variant of the tab panel. |
| index | number \| string | | The index of the tab panel. An index number starting from 0 will be provided if not specified. |
| variant | string | | The variant of the tab panel. |

### TabPanels

| Name | Type | Default | Description |
| :--- | :--- | :------ | :---------- |
| children | ReactNode | | |

## Further Reading

### [ARIA: tab role](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/tab_role)

  > This example combines the role `tab` with `tablist` and elements with `tabpanel` to create an interactive group of tabbed content. Here we are enclosing our group of content in a `div`, with our `tablist` having an `aria-label` which labels it for assistive technology. Each `tab` is a `button` with the attributes previously mentioned. The first `tab` has both `tabindex="0"` and `aria-selected="true"` applied. These two attributes must always be coordinated as such—so when another tab is selected, it will then have `tabindex="0"` and `aria-selected="true"` applied. All unselected tabs must have `aria-selected="false"` and `tabindex="-1"`.<br/><br/>
  > All of the `tabpanel` elements have `tabindex="0"` to make them tabbable, and all but the currently active one have the `hidden` attribute. The `hidden` attribute will be removed when a `tabpanel` becomes visible with JavaScript. There is some basic styling applied that restyles the buttons and changes the `z-index` of `tab` elements to give the illusion of it connecting to the `tabpanel` for active elements, and the illusion that inactive elements are behind the active `tabpanel`.<br/><br/>
  > ```js
  <div class="tabs">
    <div role="tablist" aria-label="Sample Tabs">
      <button role="tab" aria-selected="true" aria-controls="panel-1" id="tab-1" tabindex="0">
        First Tab
      </button>
      <button role="tab" aria-selected="false" aria-controls="panel-2" id="tab-2" tabindex="-1">
        Second Tab
      </button>
      <button role="tab" aria-selected="false" aria-controls="panel-3" id="tab-3" tabindex="-1">
        Third Tab
      </button>
    </div>
    <div id="panel-1" role="tabpanel" tabindex="0" aria-labelledby="tab-1">
      <p>Content for the first panel</p>
    </div>
    <div id="panel-2" role="tabpanel" tabindex="0" aria-labelledby="tab-2" hidden>
      <p>Content for the second panel</p>
    </div>
    <div id="panel-3" role="tabpanel" tabindex="0" aria-labelledby="tab-3" hidden>
      <p>Content for the third panel</p>
    </div>
  </div>
  ```

### [WAI-ARIA Roles, States, and Properties](https://www.w3.org/TR/wai-aria-practices/#tabpanel)

* The element that serves as the container for the set of tabs has role `tablist`.
* Each element that serves as a tab has role `tab` and is contained within the element with role `tablist`.
* Each element that contains the content panel for a `tab` has role `tabpanel`.
* If the tab list has a visible label, the element with role `tablist` has `aria-labelledby` set to a value that refers to the labelling element. Otherwise, the `tablist` element has a label provided by `aria-label`.
* Each element with role `tab` has the property `aria-controls` referring to its associated `tabpanel` element.
* The active `tab` element has the state `aria-selected` set to `true` and all other `tab` elements have it set to `false`.
* Each element with role `tabpanel` has the property `aria-labelledby` referring to its associated `tab` element.
* If a `tab` element has a popup menu, it has the property `aria-haspopup` set to either `menu` or `true`.
* If the `tablist` element is vertically oriented, it has the property `aria-orientation` set to `vertical`. The default value of `aria-orientation` for a `tablist` element is `horizontal`.
